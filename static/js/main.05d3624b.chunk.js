(this["webpackJsonptodolist-ts"]=this["webpackJsonptodolist-ts"]||[]).push([[0],{119:function(t,e,n){"use strict";n.r(e);var a,i,o=n(0),c=n(24),r=n.n(c),s=(n(90),n(60),n(13)),l=n(164),d=n(2),u=Object(o.memo)((function(t){var e=Object(o.useState)(!1),n=Object(s.a)(e,2),a=n[0],i=n[1],c=Object(o.useState)(t.oldTitle),r=Object(s.a)(c,2),u=r[0],j=r[1];return a?Object(d.jsx)(l.a,{id:"outlined-basic",label:"Outlined",variant:"outlined",value:u,onChange:function(t){j(t.currentTarget.value)},autoFocus:!0,onBlur:function(){t.callBack(u),i(!1)},size:"small"}):Object(d.jsx)("span",{onClick:function(){i(!0)},className:t.nameOfClass,children:t.oldTitle})})),j=n(168),O=Object(o.memo)((function(t){var e=Object(o.useState)(""),n=Object(s.a)(e,2),a=n[0],i=n[1],c=Object(o.useState)(!1),r=Object(s.a)(c,2),u=r[0],O=r[1],b=function(){""!==a.trim()?(t.addItem(a),i("")):O("Title is required")},f=u?Object(d.jsx)("div",{style:{color:"red",fontSize:"14px"},children:"Title is required*"}):null,p=u?"error":"";return Object(d.jsxs)("div",{children:[Object(d.jsx)(l.a,{id:"outlined-basic",label:p,variant:"outlined",value:a,onChange:function(t){i(t.currentTarget.value),O(!1)},onKeyPress:function(t){"Enter"===t.key&&(b(),i(""))},className:p,size:"small",error:!!p}),Object(d.jsx)(j.a,{onClick:b,variant:"contained",sx:{maxWidth:"40px",maxHeight:"40px",minWidth:"40px",minHeight:"40px"},children:"+"}),f]})})),b=n(172),f=n(161),p=n(15),D=n(14),h=n(75),I=n.n(h).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"1ec1e9c7-abf6-4bfd-8f4d-61f7bd79b19a"}});!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(a||(a={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(i||(i={}));var m=function(){return I.get("todo-lists/")},x=function(t){return I.post("todo-lists/",{title:t})},T=function(t){return I.delete("todo-lists/"+t)},v=function(t,e){return I.put("todo-lists/"+t,{title:e})},y=function(t){return I.get("todo-lists/"+t+"/tasks")},k=function(t,e){return I.post("todo-lists/"+t+"/tasks",{title:e})},S=function(t,e,n){return I.put("todo-lists/"+t+"/tasks/"+e,n)},E=function(t,e){return I.delete("todo-lists/"+t+"/tasks/"+e)},g=n(166),C=[],A=function(t){return function(e){x(t).then((function(n){e(function(t){return{type:"ADD-NEW-TODOLIST",payload:{title:t,newID:Object(g.a)()}}}(t))}))}},L=n(21),w=n(4),N={},K=Object(o.memo)((function(t){var e=Object(L.b)(),n=Object(o.useCallback)((function(n){e(function(t,e){return function(n){v(t,e).then((function(a){n(function(t,e){return{type:"UPDATE-TODOLIST-TITLE",payload:{todolistID:t,title:e}}}(t,e))}))}}(t.todolistID,n))}),[t.todolistID,e]),a=Object(o.useCallback)((function(n){e(function(t,e){return function(n){k(t,e).then((function(t){n({type:"ADD-TASKS",payload:{task:t.data.data.items.item}})}))}}(t.todolistID,n))}),[t.todolistID,e]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("h3",{children:[Object(d.jsx)(u,{oldTitle:t.title,nameOfClass:"title",callBack:n}),Object(d.jsx)(b.a,{"aria-label":"delete",onClick:function(){t.removeTodoList(t.todolistID)},children:Object(d.jsx)(f.a,{})}),Object(d.jsx)("div",{className:"headerFilter",children:t.filter})]}),Object(d.jsx)(O,{addItem:a})]})})),U=Object(o.memo)((function(t){var e=Object(L.b)(),n="task ".concat(t.status===a.Completed?"completedTask":""),i=Object(o.useCallback)((function(){var n,a;e((n=t.todolistID,a=t.id,function(t){E(n,a).then((function(e){t(function(t,e){return{type:"REMOVE-TASKS",todolistID:t,taskID:e}}(n,a))}))}))}),[e,t.todolistID,t.id]),c=Object(o.useCallback)((function(n){e(function(t,e,n){return function(a,i){var o=i().tasks[t].find((function(t){return t.id===e}));o&&S(t,e,{title:n,description:o.description,status:o.status,priority:o.priority,startDate:o.startDate,deadline:o.deadline}).then((function(i){a(function(t,e,n){return{type:"UPDATE-TASK",payload:{todolistID:t,taskID:e,updateTitle:n}}}(t,e,n))}))}}(t.todolistID,t.id,n))}),[t,e]);return Object(d.jsxs)("li",{children:[Object(d.jsx)("input",{type:"checkbox",onChange:function(n){var i,o,c,r=n.currentTarget.checked;e((i=t.todolistID,o=t.id,c=r?a.Completed:a.New,function(t,e){var n=e().tasks[i].find((function(t){return t.id===o}));n&&S(i,o,{title:n.title,description:n.description,status:c,priority:n.priority,startDate:n.startDate,deadline:n.deadline}).then((function(e){t(function(t,e,n){return{type:"CHANGE-TASK-STATUS",payload:{todolistID:t,taskID:e,status:n}}}(i,o,c))}))}))},checked:t.status===a.Completed}),Object(d.jsx)(u,{oldTitle:t.title,nameOfClass:n,callBack:Object(o.useCallback)((function(t){return c(t)}),[c])}),Object(d.jsx)(b.a,{"aria-label":"delete",onClick:i,children:Object(d.jsx)(f.a,{})})]})})),F=Object(o.memo)((function(t){var e=function(e,n){return function(){t.changeFilter(e,n)}};return Object(d.jsxs)("div",{children:[Object(d.jsx)(j.a,{variant:"all"===t.filter?"outlined":"contained",color:"secondary",onClick:e(t.todolistID,"all"),children:"All"}),Object(d.jsx)(j.a,{variant:"active"===t.filter?"outlined":"contained",color:"success",onClick:e(t.todolistID,"active"),children:"Active"}),Object(d.jsx)(j.a,{variant:"completed"===t.filter?"outlined":"contained",color:"error",onClick:e(t.todolistID,"completed"),children:"Completed"})]})})),H=Object(o.memo)((function(t){var e=Object(L.b)(),n=Object(o.useCallback)((function(t,n){e(function(t,e){return{type:"CHANGE-FILTER",payload:{todolistID:t,value:e}}}(t,n))}),[e]),i=t.tasks;"active"===t.filter?i=t.tasks.filter((function(t){return t.status===a.New})):"completed"===t.filter&&(i=t.tasks.filter((function(t){return t.status===a.Completed})));var c=i.map((function(e){return Object(d.jsx)(U,Object(p.a)(Object(p.a)({},e),{},{todolistID:t.todolistID}),e.id)})),r=Object(d.jsx)("span",{style:{fontSize:"14px"},children:"Task list is empty. Change filter or add task."}),s=c.length?Object(d.jsx)("ul",{children:c}):r;return Object(d.jsxs)(d.Fragment,{children:[s,Object(d.jsx)(F,{changeFilter:n,filter:t.filter,todolistID:t.todolistID})]})})),P=Object(o.memo)((function(t){var e=Object(L.b)();Object(o.useEffect)((function(){var n;e((n=t.todolistID,function(t){y(n).then((function(e){t(function(t,e){return{type:"SET-TASKS",payload:{tasks:t,todolistID:e}}}(e.data.items,n))}))}))}),[]);var n=Object(o.useCallback)((function(t){e(function(t){return function(e){T(t).then((function(n){e(function(t){return{type:"REMOVE-TODOLIST",payload:{todolistID:t}}}(t))}))}}(t))}),[e]);return Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)("div",{children:[Object(d.jsx)(K,{title:t.title,filter:t.filter,todolistID:t.todolistID,removeTodoList:n}),Object(d.jsx)(H,{tasks:t.tasks,filter:t.filter,todolistID:t.todolistID})]})})})),R=n(173),M=n(174),W=n(175),B=n(176),G=n(163);function z(){return Object(d.jsx)(R.a,{sx:{flexGrow:1},children:Object(d.jsx)(M.a,{position:"static",children:Object(d.jsxs)(W.a,{children:[Object(d.jsx)(b.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(d.jsx)(G.a,{})}),Object(d.jsx)(B.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"News"}),Object(d.jsx)(j.a,{color:"inherit",children:"Login"})]})})})}var V=n(169),q=n(170),J=n(171);var Y=function(){var t=Object(L.b)(),e=Object(L.c)((function(t){return t.todolists})),n=Object(L.c)((function(t){return t.tasks}));Object(o.useEffect)((function(){t((function(t){m().then((function(e){t({type:"SET-TODOLISTS",payload:{todolists:e.data}})}))}))}),[]);var a=Object(o.useCallback)((function(e){t(A(e))}),[t]);return Object(d.jsxs)("div",{children:[Object(d.jsx)(z,{}),Object(d.jsxs)(V.a,{fixed:!0,children:[Object(d.jsx)(q.a,{container:!0,style:{padding:"20px"},children:Object(d.jsx)(O,{addItem:a})}),Object(d.jsx)(q.a,{container:!0,spacing:3,children:e.map((function(t){var e=n[t.id];return Object(d.jsx)(q.a,{item:!0,children:Object(d.jsx)(J.a,{elevation:6,style:{padding:"10px"},children:Object(d.jsx)(P,{todolistID:t.id,title:t.title,tasks:e,filter:t.filter},t.id)},t.id)},t.id)}))})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=n(47),Q=n(76),X=Object($.b)({todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD-NEW-TODOLIST":var n={id:e.payload.newID,title:e.payload.title,filter:"all",addedDate:"",order:0};return[n].concat(Object(D.a)(t));case"CHANGE-FILTER":return t.map((function(t){return t.id===e.payload.todolistID?Object(p.a)(Object(p.a)({},t),{},{filter:e.payload.value}):t}));case"UPDATE-TODOLIST-TITLE":return t.map((function(t){return t.id===e.payload.todolistID?Object(p.a)(Object(p.a)({},t),{},{title:e.payload.title}):t}));case"REMOVE-TODOLIST":return t.filter((function(t){return t.id!==e.payload.todolistID}));case"SET-TODOLISTS":return e.payload.todolists.map((function(t){return Object(p.a)(Object(p.a)({},t),{},{filter:"all"})}));default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TASKS":return Object(p.a)(Object(p.a)({},t),{},Object(w.a)({},e.todolistID,t[e.todolistID].filter((function(t){return t.id!==e.taskID}))));case"ADD-TASKS":return Object(p.a)(Object(p.a)({},t),{},Object(w.a)({},e.payload.task.todoListId,[e.payload.task].concat(Object(D.a)(t[e.payload.task.todoListId]))));case"CHANGE-TASK-STATUS":return Object(p.a)(Object(p.a)({},t),{},Object(w.a)({},e.payload.todolistID,t[e.payload.todolistID].map((function(t){return t.id===e.payload.taskID?Object(p.a)(Object(p.a)({},t),{},{status:e.payload.status}):t}))));case"UPDATE-TASK":return Object(p.a)(Object(p.a)({},t),{},Object(w.a)({},e.payload.todolistID,t[e.payload.todolistID].map((function(t){return t.id===e.payload.taskID?Object(p.a)(Object(p.a)({},t),{},{title:e.payload.updateTitle}):t}))));case"ADD-NEW-TODOLIST":return Object(p.a)(Object(p.a)({},t),{},Object(w.a)({},e.payload.newID,[]));case"REMOVE-TODOLIST":var n=Object(p.a)({},t);return delete n[e.payload.todolistID],n;case"SET-TODOLISTS":var a=Object(p.a)({},t);return e.payload.todolists.forEach((function(t){a[t.id]=[]})),a;case"SET-TASKS":var i=Object(p.a)({},t);return i[e.payload.todolistID]=e.payload.tasks,i;default:return t}}}),Z=Object($.c)(X,Object($.a)(Q.a));r.a.render(Object(d.jsxs)(L.a,{store:Z,children:[Object(d.jsx)(Y,{})," "]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},60:function(t,e,n){},90:function(t,e,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.05d3624b.chunk.js.map